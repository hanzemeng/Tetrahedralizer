using UnityEngine;
using System;
using System.Linq;

[ExecuteAlways]
public class TetrahedronDrawer : MonoBehaviour
{
    public MeshFilter m_meshFiler;
    public Transform m_p0,m_p1,m_p2,m_p3;

    private void Update()
    {
        Vector3 v0 = m_p0.position;
        Vector3 v1 = m_p1.position;
        Vector3 v2 = m_p2.position;
        Vector3 v3 = m_p3.position;

        Mesh mesh = new Mesh();
        mesh.vertices = new Vector3[]{v0,v2,v1, v0,v1,v3, v0,v3,v2, v1,v2,v3};
        mesh.triangles = Enumerable.Range(0,12).ToArray();
        mesh.RecalculateBounds();
        mesh.RecalculateNormals();
        mesh.RecalculateTangents();

        m_meshFiler.mesh = mesh;
    }
}
